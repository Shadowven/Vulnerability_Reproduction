# 标题

[TOC]

# 1. 概述

## 1.1 PHP

想必大家都了解，这里就不过多赘述了

## 1.2 漏洞简述

PHP 版本 8.1.0-dev 于 2021 年 3 月 28 日发布了带有后门的版本，但该后门很快被发现并删除。如果此版本的 PHP 在服务器上运行，攻击者可以通过发送 User-Agentt 标头来执行任意代码。

发现问题后恢复了原代码，但随后又被篡改了第二次。该漏洞将在任何运行受感染版本的 PHP 的网站中创建一个后门，使黑客能够在该网站上执行远程代码执行。




## 1.4 影响范围

**PHP 8.1.0-dev**

## 1.5 漏洞详情



# 2. 环境配置

## 2.1 方案一: vlufocus在线平台

### 登录vlufocus官网，搜索漏洞名称并启动

![1](img/vulfocus.png)

## 2.2 方案二: 在docker中搭建

### 在GitHub中搜索并下载vulhub

```git clone https://github.com/vulhub/vulhub.git```
1. 进入漏洞目录,打开Powershell
   ```vulhub-master/php/8.1-backdoor/```
2. 使用docker-compose拉取漏洞环境
   ```docker-compose up -d```
3. 显示绿色的done表示搭建成功
<font color=#008000 >```Done```</font>


    ![](img/docker.png)

## 2.3 访问测试

这里采用方案二

![](img/access.png)

# 3. 漏洞复现




### 3.1 信息收集

1. 使用nmap进行端口扫描
2. burp抓包
3. 在Exploit_DB库中搜索相关漏洞
   
    <https://www.exploit-db.com/exploits/49933>

    ![](img/exp.png)

## 3.2 漏洞利用

4. 载利用代码，在虚拟机中配置好python环境并运行




# 4. 修复建议



# 5. 总结



# 6. References

CVE Details (2020) _CVE-2020-9496_. Available at: https://www.cvedetails.com/cve/CVE-2020-9496/...(Accessed: 22 Aug 2022).


东塔网络安全学院. (2021) 'Apache Ofbiz XMLRPC RCE漏洞（CVE-2020-9496）复现', _CSDN_, 20 Feb. Available at: https://blog.csdn.net/m0_48520508/article/details/...(Accessed: 22 Aug 2022).
